<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 750" direction="rtl">
  <defs>
    <linearGradient id="rnnGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4F46E5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3730A3;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="memoryGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="outputGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#059669;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#047857;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="fadeGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#DC2626;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#DC2626;stop-opacity:0.1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
    <marker id="arrowGray" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6B7280"/>
    </marker>
    <marker id="arrowOrange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#F59E0B"/>
    </marker>
    <marker id="arrowRed" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#DC2626"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="750" fill="var(--color-surface, #FAFAFA)"/>

  <!-- Title -->
  <text x="600" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="var(--color-text, #1E293B)" direction="rtl">רשתות נוירונים חוזרות (RNN)</text>
  <text x="600" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" fill="var(--color-text-muted, #64748B)" direction="rtl">הרעיון המהפכני: זיכרון ברשת נוירונים</text>

  <!-- ===================== -->
  <!-- SECTION 1: THE KEY IDEA -->
  <!-- ===================== -->
  
  <!-- Key insight box -->
  <rect x="50" y="100" width="350" height="120" rx="12" fill="#EEF2FF" stroke="#4F46E5" stroke-width="2"/>
  <text x="225" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#3730A3" direction="rtl">💡 הרעיון המרכזי</text>
  <text x="225" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#4338CA" direction="rtl">רשת רגילה: כל קלט עצמאי</text>
  <text x="225" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#4338CA" direction="rtl">RNN: הרשת "זוכרת" קלטים קודמים</text>
  <text x="225" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#6366F1" direction="rtl">→ מושלם לרצפים: טקסט, שמע, וידאו</text>

  <!-- ===================== -->
  <!-- SECTION 2: UNFOLDED RNN -->
  <!-- ===================== -->
  
  <text x="600" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="var(--color-text, #1E293B)" direction="rtl">RNN "פרוש" לאורך הזמן</text>

  <!-- Time step labels -->
  <text x="200" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="var(--color-text-muted, #64748B)">t=1</text>
  <text x="400" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="var(--color-text-muted, #64748B)">t=2</text>
  <text x="600" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="var(--color-text-muted, #64748B)">t=3</text>
  <text x="800" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="var(--color-text-muted, #64748B)">t=4</text>
  <text x="1000" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="var(--color-text-muted, #64748B)">t=5</text>

  <!-- Input boxes -->
  <rect x="150" y="310" width="100" height="45" rx="8" fill="#E0E7FF" stroke="#4F46E5" stroke-width="2"/>
  <text x="200" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="#3730A3" direction="rtl">אני</text>

  <rect x="350" y="310" width="100" height="45" rx="8" fill="#E0E7FF" stroke="#4F46E5" stroke-width="2"/>
  <text x="400" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="#3730A3" direction="rtl">אוהב</text>

  <rect x="550" y="310" width="100" height="45" rx="8" fill="#E0E7FF" stroke="#4F46E5" stroke-width="2"/>
  <text x="600" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="#3730A3" direction="rtl">למידת</text>

  <rect x="750" y="310" width="100" height="45" rx="8" fill="#E0E7FF" stroke="#4F46E5" stroke-width="2"/>
  <text x="800" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="#3730A3" direction="rtl">מכונה</text>

  <rect x="950" y="310" width="100" height="45" rx="8" fill="#E0E7FF" stroke="#4F46E5" stroke-width="2"/>
  <text x="1000" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#3730A3">...</text>

  <!-- Input arrows -->
  <line x1="200" y1="360" x2="200" y2="400" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>
  <line x1="400" y1="360" x2="400" y2="400" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>
  <line x1="600" y1="360" x2="600" y2="400" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>
  <line x1="800" y1="360" x2="800" y2="400" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>
  <line x1="1000" y1="360" x2="1000" y2="400" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>

  <!-- Hidden state boxes (the RNN cells) -->
  <rect x="150" y="410" width="100" height="60" rx="10" fill="url(#rnnGrad)" filter="url(#shadow)"/>
  <text x="200" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="white" font-weight="bold">h₁</text>

  <rect x="350" y="410" width="100" height="60" rx="10" fill="url(#rnnGrad)" filter="url(#shadow)"/>
  <text x="400" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="white" font-weight="bold">h₂</text>

  <rect x="550" y="410" width="100" height="60" rx="10" fill="url(#rnnGrad)" filter="url(#shadow)"/>
  <text x="600" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="white" font-weight="bold">h₃</text>

  <rect x="750" y="410" width="100" height="60" rx="10" fill="url(#rnnGrad)" filter="url(#shadow)"/>
  <text x="800" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="white" font-weight="bold">h₄</text>

  <rect x="950" y="410" width="100" height="60" rx="10" fill="url(#rnnGrad)" filter="url(#shadow)"/>
  <text x="1000" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="white" font-weight="bold">h₅</text>

  <!-- Hidden state connections (the "memory" flow) -->
  <line x1="255" y1="440" x2="345" y2="440" stroke="#F59E0B" stroke-width="4" marker-end="url(#arrowOrange)"/>
  <line x1="455" y1="440" x2="545" y2="440" stroke="#F59E0B" stroke-width="4" marker-end="url(#arrowOrange)"/>
  <line x1="655" y1="440" x2="745" y2="440" stroke="#F59E0B" stroke-width="4" marker-end="url(#arrowOrange)"/>
  <line x1="855" y1="440" x2="945" y2="440" stroke="#F59E0B" stroke-width="4" marker-end="url(#arrowOrange)"/>

  <!-- Memory label -->
  <rect x="480" y="485" width="240" height="30" rx="6" fill="#FEF3C7" stroke="#F59E0B" stroke-width="1"/>
  <text x="600" y="506" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#B45309" direction="rtl">🧠 "זיכרון" עובר בין צעדי הזמן</text>

  <!-- Output arrows -->
  <line x1="200" y1="475" x2="200" y2="520" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>
  <line x1="400" y1="475" x2="400" y2="520" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>
  <line x1="600" y1="475" x2="600" y2="520" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>
  <line x1="800" y1="475" x2="800" y2="520" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>
  <line x1="1000" y1="475" x2="1000" y2="520" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>

  <!-- Output boxes -->
  <rect x="150" y="530" width="100" height="40" rx="8" fill="url(#outputGrad)" filter="url(#shadow)"/>
  <text x="200" y="556" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="white">y₁</text>

  <rect x="350" y="530" width="100" height="40" rx="8" fill="url(#outputGrad)" filter="url(#shadow)"/>
  <text x="400" y="556" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="white">y₂</text>

  <rect x="550" y="530" width="100" height="40" rx="8" fill="url(#outputGrad)" filter="url(#shadow)"/>
  <text x="600" y="556" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="white">y₃</text>

  <rect x="750" y="530" width="100" height="40" rx="8" fill="url(#outputGrad)" filter="url(#shadow)"/>
  <text x="800" y="556" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="white">y₄</text>

  <rect x="950" y="530" width="100" height="40" rx="8" fill="url(#outputGrad)" filter="url(#shadow)"/>
  <text x="1000" y="556" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="white">y₅</text>

  <!-- ===================== -->
  <!-- SECTION 3: THE PROBLEM -->
  <!-- ===================== -->

  <text x="600" y="620" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#DC2626" direction="rtl">⚠️ הבעיה: Vanishing Gradient</text>

  <!-- Gradient visualization -->
  <rect x="100" y="640" width="1000" height="70" rx="8" fill="var(--color-surface, #FEF2F2)" stroke="#FECACA" stroke-width="1"/>
  
  <!-- Gradient bars showing decay -->
  <rect x="130" y="655" width="80" height="25" rx="4" fill="#DC2626" opacity="1"/>
  <rect x="250" y="655" width="80" height="25" rx="4" fill="#DC2626" opacity="0.7"/>
  <rect x="370" y="655" width="80" height="25" rx="4" fill="#DC2626" opacity="0.4"/>
  <rect x="490" y="655" width="80" height="25" rx="4" fill="#DC2626" opacity="0.2"/>
  <rect x="610" y="655" width="80" height="25" rx="4" fill="#DC2626" opacity="0.1"/>
  <rect x="730" y="655" width="80" height="25" rx="4" fill="#DC2626" opacity="0.05"/>
  <rect x="850" y="655" width="80" height="25" rx="4" fill="#DC2626" opacity="0.02"/>
  <rect x="970" y="655" width="80" height="25" rx="4" fill="#DC2626" opacity="0.01"/>

  <!-- Gradient labels -->
  <text x="170" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="var(--color-text-muted, #6B7280)">t=1</text>
  <text x="290" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="var(--color-text-muted, #6B7280)">t=2</text>
  <text x="410" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="var(--color-text-muted, #6B7280)">t=3</text>
  <text x="530" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="var(--color-text-muted, #6B7280)">t=4</text>
  <text x="650" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="var(--color-text-muted, #6B7280)">t=5</text>
  <text x="770" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="var(--color-text-muted, #6B7280)">t=6</text>
  <text x="890" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="var(--color-text-muted, #6B7280)">t=7</text>
  <text x="1010" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="var(--color-text-muted, #6B7280)">t=8</text>

  <text x="600" y="735" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#991B1B" direction="rtl">הגרדיאנט "נעלם" ככל שחוזרים אחורה בזמן → הרשת לא לומדת תלויות ארוכות טווח</text>

  <!-- ===================== -->
  <!-- RIGHT SIDE: WHAT WE LEARNED -->
  <!-- ===================== -->
  
  <rect x="800" y="100" width="350" height="120" rx="12" fill="#ECFDF5" stroke="#059669" stroke-width="2"/>
  <text x="975" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#047857" direction="rtl">✓ מה למדנו מ-RNN</text>
  <text x="975" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#065F46" direction="rtl">• הקשר (Context) חשוב להבנת רצפים</text>
  <text x="975" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#065F46" direction="rtl">• צריך "זיכרון" שעובר בין צעדים</text>
  <text x="975" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#10B981" direction="rtl">→ הוביל ל-LSTM ו-Attention!</text>

</svg>
