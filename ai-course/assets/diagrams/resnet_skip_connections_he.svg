<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 700" direction="rtl">
  <defs>
    <linearGradient id="layerGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4F46E5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3730A3;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="skipGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="problemGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#EF4444;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#DC2626;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
    <marker id="arrowGray" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6B7280"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#10B981"/>
    </marker>
    <marker id="arrowRed" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#EF4444"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="700" fill="var(--color-surface, #FAFAFA)"/>

  <!-- Title -->
  <text x="600" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="var(--color-text, #1E293B)" direction="rtl">ResNet - חיבורי קיצור (2015)</text>
  <text x="600" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" fill="var(--color-text-muted, #64748B)" direction="rtl">הרעיון שאפשר לאמן רשתות עמוקות מאוד</text>

  <!-- ===================== -->
  <!-- LEFT: THE PROBLEM -->
  <!-- ===================== -->
  
  <rect x="50" y="110" width="350" height="130" rx="12" fill="#FEF2F2" stroke="#EF4444" stroke-width="2"/>
  <text x="225" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#DC2626" direction="rtl">❌ הבעיה: Degradation</text>
  <text x="225" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#991B1B" direction="rtl">רשת עמוקה יותר = תוצאות גרועות יותר?!</text>
  <text x="225" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#B91C1C" direction="rtl">זה לא Overfitting!</text>
  <text x="225" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#B91C1C" direction="rtl">גם ה-Training Error עולה</text>

  <!-- ===================== -->
  <!-- RIGHT: THE SOLUTION -->
  <!-- ===================== -->
  
  <rect x="800" y="110" width="350" height="130" rx="12" fill="#ECFDF5" stroke="#10B981" stroke-width="2"/>
  <text x="975" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#059669" direction="rtl">✓ הפתרון: Skip Connections</text>
  <text x="975" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#065F46" direction="rtl">במקום ללמוד F(x), נלמד F(x) + x</text>
  <text x="975" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#047857" direction="rtl">הקלט "מדלג" ישירות לפלט</text>
  <text x="975" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#047857" direction="rtl">→ הגרדיאנט זורם בקלות!</text>

  <!-- ===================== -->
  <!-- CENTER: VISUAL COMPARISON -->
  <!-- ===================== -->

  <text x="600" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="var(--color-text, #1E293B)" direction="rtl">השוואה: רשת רגילה vs ResNet</text>

  <!-- REGULAR NETWORK (LEFT SIDE) -->
  <text x="250" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#DC2626" direction="rtl">רשת רגילה</text>
  
  <!-- Input -->
  <rect x="175" y="340" width="150" height="40" rx="8" fill="#E0E7FF" stroke="#4F46E5" stroke-width="2"/>
  <text x="250" y="366" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#3730A3" font-weight="bold">x (קלט)</text>
  
  <!-- Arrow down -->
  <line x1="250" y1="385" x2="250" y2="420" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>
  
  <!-- Layer 1 -->
  <rect x="175" y="430" width="150" height="50" rx="10" fill="url(#layerGrad)" filter="url(#shadow)"/>
  <text x="250" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="white" font-weight="bold">שכבה 1</text>
  
  <!-- Arrow down -->
  <line x1="250" y1="485" x2="250" y2="520" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>
  
  <!-- Layer 2 -->
  <rect x="175" y="530" width="150" height="50" rx="10" fill="url(#layerGrad)" filter="url(#shadow)"/>
  <text x="250" y="560" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="white" font-weight="bold">שכבה 2</text>
  
  <!-- Arrow down -->
  <line x1="250" y1="585" x2="250" y2="620" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>
  
  <!-- Output -->
  <rect x="175" y="630" width="150" height="40" rx="8" fill="#FEE2E2" stroke="#EF4444" stroke-width="2"/>
  <text x="250" y="656" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#DC2626" font-weight="bold">F(x)</text>

  <!-- Problem annotation -->
  <text x="100" y="500" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#DC2626" direction="rtl">גרדיאנט</text>
  <text x="100" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#DC2626" direction="rtl">נעלם!</text>
  <path d="M 130 490 Q 150 500 170 500" stroke="#EF4444" stroke-width="2" fill="none" stroke-dasharray="4,2"/>

  <!-- ===================== -->
  <!-- RESNET (RIGHT SIDE) -->
  <!-- ===================== -->
  
  <text x="950" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#10B981" direction="rtl">ResNet (עם Skip Connection)</text>
  
  <!-- Input -->
  <rect x="875" y="340" width="150" height="40" rx="8" fill="#E0E7FF" stroke="#4F46E5" stroke-width="2"/>
  <text x="950" y="366" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#3730A3" font-weight="bold">x (קלט)</text>
  
  <!-- Arrow down to layers -->
  <line x1="950" y1="385" x2="950" y2="420" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>
  
  <!-- Layer 1 -->
  <rect x="875" y="430" width="150" height="50" rx="10" fill="url(#layerGrad)" filter="url(#shadow)"/>
  <text x="950" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="white" font-weight="bold">שכבה 1</text>
  
  <!-- Arrow down -->
  <line x1="950" y1="485" x2="950" y2="520" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>
  
  <!-- Layer 2 -->
  <rect x="875" y="530" width="150" height="50" rx="10" fill="url(#layerGrad)" filter="url(#shadow)"/>
  <text x="950" y="560" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="white" font-weight="bold">שכבה 2</text>
  
  <!-- Arrow down -->
  <line x1="950" y1="585" x2="950" y2="600" stroke="#6B7280" stroke-width="2"/>
  
  <!-- Addition circle -->
  <circle cx="950" cy="615" r="18" fill="url(#skipGrad)" stroke="#059669" stroke-width="2"/>
  <text x="950" y="621" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="white" font-weight="bold">+</text>
  
  <!-- Arrow from addition to output -->
  <line x1="950" y1="638" x2="950" y2="660" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowGray)"/>
  
  <!-- Output -->
  <rect x="875" y="670" width="150" height="40" rx="8" fill="#D1FAE5" stroke="#10B981" stroke-width="2"/>
  <text x="950" y="696" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#059669" font-weight="bold">F(x) + x</text>

  <!-- SKIP CONNECTION (the key!) -->
  <path d="M 1030 360 L 1070 360 L 1070 615 L 1030 615" 
        stroke="#10B981" stroke-width="4" fill="none" 
        stroke-linecap="round" marker-end="url(#arrowGreen)"/>
  
  <!-- Skip connection label -->
  <rect x="1080" y="470" width="100" height="50" rx="8" fill="#ECFDF5" stroke="#10B981" stroke-width="2"/>
  <text x="1130" y="492" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#059669" font-weight="bold" direction="rtl">Skip</text>
  <text x="1130" y="510" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#059669" font-weight="bold" direction="rtl">Connection</text>

  <!-- ===================== -->
  <!-- CENTER: INTUITION -->
  <!-- ===================== -->
  
  <rect x="430" y="380" width="340" height="200" rx="12" fill="#FEF3C7" stroke="#F59E0B" stroke-width="2"/>
  <text x="600" y="415" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#B45309" direction="rtl">💡 האינטואיציה</text>
  
  <text x="600" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#92400E" direction="rtl">אם השכבות לא מועילות,</text>
  <text x="600" y="475" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#92400E" direction="rtl">הרשת יכולה פשוט "לדלג" עליהן</text>
  <text x="600" y="500" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#92400E" direction="rtl">ולהעביר את הקלט ישירות!</text>
  
  <text x="600" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#B45309" font-weight="bold" direction="rtl">F(x) = 0 → פלט = x</text>
  <text x="600" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#D97706" direction="rtl">"קל יותר ללמוד שינוי קטן מאשר פונקציה שלמה"</text>

  <!-- ===================== -->
  <!-- BOTTOM: IMPACT -->
  <!-- ===================== -->
  
  <rect x="150" y="720" width="900" height="60" rx="10" fill="#EEF2FF" stroke="#4F46E5" stroke-width="2"/>
  <text x="600" y="755" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="#3730A3" direction="rtl">🏆 התוצאה: ResNet-152 (152 שכבות!) ניצח ב-ImageNet 2015 | הרעיון הזה נמצא היום בכל מודל גדול כולל Transformers</text>

</svg>
