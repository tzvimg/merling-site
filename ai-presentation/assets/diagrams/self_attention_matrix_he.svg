<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 700" direction="rtl">
  <defs>
    <linearGradient id="highAttention" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1200" height="700" fill="var(--color-surface, #FAFAFA)"/>

  <!-- Title -->
  <text x="600" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="var(--color-text, #1E293B)" direction="rtl">מטריצת Self-Attention</text>
  <text x="600" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="var(--color-text-muted, #64748B)" direction="rtl">כל מילה נותנת "ציון" לכל מילה אחרת - כמה היא רלוונטית?</text>

  <!-- Example sentence label -->
  <text x="600" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="var(--color-text-muted, #64748B)" direction="rtl">משפט: "החתול ישב כי הוא עייף"</text>

  <!-- Matrix container -->
  <rect x="300" y="130" width="600" height="420" rx="12" fill="var(--color-surface, #ffffff)" stroke="var(--color-border, #E2E8F0)" stroke-width="2" filter="url(#shadow)"/>

  <!-- Column headers (Query - מי שואל) - RTL order -->
  <text x="600" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="var(--color-text, #374151)" direction="rtl">← Query (מי שואל?)</text>

  <!-- Row header (Key - על מי שואלים) -->
  <text x="280" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="var(--color-text, #374151)" direction="rtl" transform="rotate(-90, 280, 350)">Key (על מי?) ↓</text>

  <!-- Column labels (words) - RTL: החתול, ישב, כי, הוא, עייף -->
  <text x="380" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#6366F1" direction="rtl">החתול</text>
  <text x="470" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#6366F1" direction="rtl">ישב</text>
  <text x="560" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#6366F1" direction="rtl">כי</text>
  <text x="650" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#F59E0B" direction="rtl">הוא</text>
  <text x="740" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#6366F1" direction="rtl">עייף</text>

  <!-- Row labels (same words) -->
  <text x="330" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#10B981" direction="rtl">החתול</text>
  <text x="330" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#6366F1" direction="rtl">ישב</text>
  <text x="330" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#6366F1" direction="rtl">כי</text>
  <text x="330" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#F59E0B" direction="rtl">הוא</text>
  <text x="330" y="495" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#6366F1" direction="rtl">עייף</text>

  <!-- Matrix cells - Row 1 (החתול) -->
  <rect x="355" y="220" width="50" height="50" rx="6" fill="#10B981" opacity="0.9"/>
  <text x="380" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">0.45</text>

  <rect x="445" y="220" width="50" height="50" rx="6" fill="#10B981" opacity="0.4"/>
  <text x="470" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.20</text>

  <rect x="535" y="220" width="50" height="50" rx="6" fill="#10B981" opacity="0.15"/>
  <text x="560" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.05</text>

  <rect x="625" y="220" width="50" height="50" rx="6" fill="#10B981" opacity="0.3"/>
  <text x="650" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.15</text>

  <rect x="715" y="220" width="50" height="50" rx="6" fill="#10B981" opacity="0.3"/>
  <text x="740" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.15</text>

  <!-- Matrix cells - Row 2 (ישב) -->
  <rect x="355" y="280" width="50" height="50" rx="6" fill="#6366F1" opacity="0.5"/>
  <text x="380" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">0.30</text>

  <rect x="445" y="280" width="50" height="50" rx="6" fill="#6366F1" opacity="0.7"/>
  <text x="470" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">0.35</text>

  <rect x="535" y="280" width="50" height="50" rx="6" fill="#6366F1" opacity="0.2"/>
  <text x="560" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.10</text>

  <rect x="625" y="280" width="50" height="50" rx="6" fill="#6366F1" opacity="0.2"/>
  <text x="650" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.10</text>

  <rect x="715" y="280" width="50" height="50" rx="6" fill="#6366F1" opacity="0.3"/>
  <text x="740" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.15</text>

  <!-- Matrix cells - Row 3 (כי) -->
  <rect x="355" y="340" width="50" height="50" rx="6" fill="#6366F1" opacity="0.2"/>
  <text x="380" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.10</text>

  <rect x="445" y="340" width="50" height="50" rx="6" fill="#6366F1" opacity="0.3"/>
  <text x="470" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.15</text>

  <rect x="535" y="340" width="50" height="50" rx="6" fill="#6366F1" opacity="0.5"/>
  <text x="560" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">0.25</text>

  <rect x="625" y="340" width="50" height="50" rx="6" fill="#6366F1" opacity="0.5"/>
  <text x="650" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">0.25</text>

  <rect x="715" y="340" width="50" height="50" rx="6" fill="#6366F1" opacity="0.5"/>
  <text x="740" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">0.25</text>

  <!-- Matrix cells - Row 4 (הוא) - HIGHLIGHT ROW -->
  <rect x="355" y="400" width="50" height="50" rx="6" fill="#10B981" opacity="0.95" stroke="#F59E0B" stroke-width="3"/>
  <text x="380" y="430" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">0.70</text>

  <rect x="445" y="400" width="50" height="50" rx="6" fill="#F59E0B" opacity="0.2"/>
  <text x="470" y="430" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.08</text>

  <rect x="535" y="400" width="50" height="50" rx="6" fill="#F59E0B" opacity="0.15"/>
  <text x="560" y="430" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.05</text>

  <rect x="625" y="400" width="50" height="50" rx="6" fill="#F59E0B" opacity="0.25"/>
  <text x="650" y="430" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.12</text>

  <rect x="715" y="400" width="50" height="50" rx="6" fill="#F59E0B" opacity="0.15"/>
  <text x="740" y="430" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.05</text>

  <!-- Matrix cells - Row 5 (עייף) -->
  <rect x="355" y="460" width="50" height="50" rx="6" fill="#6366F1" opacity="0.4"/>
  <text x="380" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.20</text>

  <rect x="445" y="460" width="50" height="50" rx="6" fill="#6366F1" opacity="0.3"/>
  <text x="470" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.15</text>

  <rect x="535" y="460" width="50" height="50" rx="6" fill="#6366F1" opacity="0.2"/>
  <text x="560" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.10</text>

  <rect x="625" y="460" width="50" height="50" rx="6" fill="#6366F1" opacity="0.35"/>
  <text x="650" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="var(--color-text, #333)">0.20</text>

  <rect x="715" y="460" width="50" height="50" rx="6" fill="#6366F1" opacity="0.7"/>
  <text x="740" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">0.35</text>

  <!-- Highlight annotation for "הוא" row -->
  <path d="M 780 425 L 820 425" stroke="#F59E0B" stroke-width="2" fill="none"/>
  <rect x="825" y="405" width="160" height="45" rx="8" fill="#FEF3C7" stroke="#F59E0B" stroke-width="2"/>
  <text x="905" y="423" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#92400E" direction="rtl">"הוא" שואל: למי אני</text>
  <text x="905" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#92400E" direction="rtl">מתייחס? → "החתול"!</text>

  <!-- Legend -->
  <rect x="950" y="180" width="200" height="140" rx="10" fill="var(--color-surface, #F8FAFC)" stroke="var(--color-border, #E2E8F0)" stroke-width="1"/>
  <text x="1050" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="var(--color-text, #374151)" direction="rtl">מקרא צבעים</text>

  <rect x="1100" y="220" width="30" height="20" rx="4" fill="#10B981" opacity="0.9"/>
  <text x="1080" y="235" text-anchor="end" font-family="Arial, sans-serif" font-size="11" fill="var(--color-text, #374151)" direction="ltr">High attention</text>

  <rect x="1100" y="250" width="30" height="20" rx="4" fill="#6366F1" opacity="0.5"/>
  <text x="1080" y="265" text-anchor="end" font-family="Arial, sans-serif" font-size="11" fill="var(--color-text, #374151)" direction="ltr">Medium</text>

  <rect x="1100" y="280" width="30" height="20" rx="4" fill="#6366F1" opacity="0.2"/>
  <text x="1080" y="295" text-anchor="end" font-family="Arial, sans-serif" font-size="11" fill="var(--color-text, #374151)" direction="ltr">Low attention</text>

  <!-- Bottom explanation boxes -->
  <rect x="60" y="570" width="350" height="110" rx="10" fill="#EEF2FF" stroke="#C7D2FE" stroke-width="2"/>
  <text x="235" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#4338CA" direction="rtl">📊 איך קוראים את המטריצה?</text>
  <text x="235" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#3730A3" direction="rtl">שורה = מילה ששואלת (Query)</text>
  <text x="235" y="645" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#3730A3" direction="rtl">עמודה = מילה שעונה (Key)</text>
  <text x="235" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#3730A3" direction="rtl">ערך = כמה תשומת לב (0-1)</text>

  <rect x="430" y="570" width="340" height="110" rx="10" fill="#ECFDF5" stroke="#A7F3D0" stroke-width="2"/>
  <text x="600" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#047857" direction="rtl">✨ מה המודל למד?</text>
  <text x="600" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#065F46" direction="rtl">"הוא" נותן 70% תשומת לב ל"החתול"</text>
  <text x="600" y="645" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#065F46" direction="rtl">→ המודל הבין ש"הוא" = "החתול"!</text>
  <text x="600" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#065F46" direction="rtl">כל שורה מסתכמת ל-1.0 (100%)</text>

  <rect x="790" y="570" width="350" height="110" rx="10" fill="#FEF3C7" stroke="#FCD34D" stroke-width="2"/>
  <text x="965" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#B45309" direction="rtl">🧮 הנוסחה הבסיסית</text>
  <text x="965" y="630" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#92400E" direction="ltr">Attention(Q,K,V) = softmax(QKᵀ)V</text>
  <text x="965" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#92400E" direction="rtl">Q=Query, K=Key, V=Value</text>

</svg>
